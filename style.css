/* Rico’s Mealtracker — Mobile-first UI
   Theme: anthracite + turquoise accents
*/

:root{
  --bg: #0b0f14;
  --panel: rgba(18, 22, 30, .92);
  --panel2: rgba(255,255,255,.04);
  --stroke: rgba(255,255,255,.10);
  --stroke2: rgba(255,255,255,.06);
  --text: #e9eef6;
  --muted: rgba(233,238,246,.65);

  --acc: #22d3ee;     /* turquoise */
  --acc2: #18b6ce;

  --warn: #f6d365;    /* warm yellow */
  --danger: #ff4d4d;

  --topH: 58px;
  --navH: 74px;

  --r: 18px;
  --r2: 14px;
  --shadow: 0 20px 80px rgba(0,0,0,.55);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  color:var(--text);
  background:
    radial-gradient(900px 500px at 50% -10%, rgba(34,211,238,.12), transparent 60%),
    radial-gradient(700px 400px at 20% 20%, rgba(246,211,101,.07), transparent 65%),
    var(--bg);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Helpers */
.hidden{ display:none !important; }
.muted{ color:var(--muted); }
.small{ font-size:12px; }
.top8{ margin-top:8px; }
.top10{ margin-top:10px; }
.top12{ margin-top:12px; }
.top14{ margin-top:14px; }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }

/* Brush branding font (falls du keine externe Font nutzt) */
.brush{
  font-family: "Brush Script MT", "Segoe Script", "Comic Sans MS", system-ui;
  letter-spacing: .2px;
  color: var(--acc);
}

/* Topbar */
.topbar{
  position: sticky;
  top:0;
  z-index: 50;
  height: var(--topH);
  display:grid;
  grid-template-columns: 52px 1fr 52px;
  align-items:center;
  padding: 0 10px;
  backdrop-filter: blur(10px);
  background: rgba(10,12,16,.86);
  border-bottom: 1px solid var(--stroke2);
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
}
.brand.center{
  justify-content:center;
}
.brand-mark{
  width:36px;
  height:36px;
  border-radius: 12px;
  display:grid;
  place-items:center;
  background: rgba(34,211,238,.12);
  border: 1px solid rgba(34,211,238,.25);
  color: var(--acc);
  font-weight: 900;
}
.brand-title{
  font-weight: 900;
  font-size: 18px;
}

.topbar-right{ height: 42px; }

/* Icon button */
.iconbtn{
  border:0;
  width: 42px;
  height: 42px;
  border-radius: 12px;
  background: rgba(255,255,255,.06);
  color: var(--text);
  display:grid;
  place-items:center;
  font-size: 18px;
}
.iconbtn:active{ transform: translateY(1px); }

/* App container */
.app{
  padding: 12px 14px calc(var(--navH) + 14px + env(safe-area-inset-bottom));
  max-width: 520px;
  margin: 0 auto;
}

/* Cards */
.card{
  background: var(--panel);
  border: 1px solid var(--stroke2);
  border-radius: var(--r);
  box-shadow: 0 8px 40px rgba(0,0,0,.25);
  padding: 14px;
  margin-bottom: 12px;
}

/* HERO */
.hero-title{
  color: var(--muted);
  font-weight: 700;
  letter-spacing: .2px;
}
.hero-kcal{
  display:flex;
  align-items: baseline;
  gap: 8px;
  margin-top: 8px;
  font-weight: 900;
}
.hero-kcal #sumKcal{ font-size: 44px; line-height: 1; }
.hero-kcal #gKcal{ font-size: 28px; opacity: .9; }
.hero-kcal .slash{ font-size: 26px; opacity: .55; }
.hero-kcal .unit{ font-size: 16px; opacity: .6; }

.bar{
  height: 12px;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.08);
  overflow:hidden;
  margin-top: 10px;
}
.bar-fill{
  height:100%;
  width:0%;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--acc), rgba(246,211,101,.9));
}

.macro-row{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 10px;
  margin-top: 12px;
}
.macro{
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 14px;
  padding: 10px 10px;
  min-width:0;
}
.macro-top{
  display:flex;
  align-items:center;
  gap:8px;
  font-size: 12px;
  color: var(--muted);
  font-weight: 700;
}
.dot{
  width:10px;
  height:10px;
  border-radius: 999px;
  display:inline-block;
}
.dot-p{ background: rgba(34,211,238,.9); }
.dot-c{ background: rgba(246,211,101,.9); }
.dot-f{ background: rgba(255,77,77,.75); }

.macro-val{
  margin-top: 6px;
  font-size: 14px;
  white-space: nowrap;
}
.macro-val b{ font-size: 16px; }
.macro-val .g{ opacity:.75; margin-left:2px; }

/* CUT */
.cut-head{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 10px;
}
.cut-label{
  font-weight: 900;
  letter-spacing: .12em;
  font-size: 12px;
  color: rgba(246,211,101,.9);
}
.cut-main{
  display:grid;
  grid-template-columns: 1fr;
  gap: 10px;
  margin-top: 10px;
}
.cut-line{
  display:flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 10px;
}
.bar-warn{
  border-color: rgba(246,211,101,.22);
  background: rgba(246,211,101,.08);
}
.bar-fill-warn{
  background: linear-gradient(90deg, rgba(246,211,101,1), rgba(34,211,238,.95));
}

.cut-progress-meta{
  display:flex;
  justify-content: space-between;
  margin-top: 6px;
}

/* DATE CARD */
.datecard-head{
  display:flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}
.content-title{
  font-weight: 900;
  font-size: 16px;
}

/* Inputs */
input, select{
  width: 100%;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  color: var(--text);
  padding: 10px 12px;
  outline: none;
}
input:focus, select:focus{
  border-color: rgba(34,211,238,.45);
  box-shadow: 0 0 0 3px rgba(34,211,238,.14);
}
.date{
  width: 150px;
  padding: 10px 12px;
}

/* Content list */
.content-head{
  display:flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  padding-bottom: 6px;
  border-bottom: 1px solid rgba(255,255,255,.06);
  margin-bottom: 10px;
}

/* List items */
.list{
  display:flex;
  flex-direction: column;
  gap: 10px;
}
.item{
  display:flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  padding: 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.06);
}
.item-main{ min-width: 0; }
.item-name{
  font-weight: 900;
  font-size: 14px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.item-actions{
  display:flex;
  gap: 8px;
  flex-shrink: 0;
}

/* Empty hint */
.emptyHint{
  padding: 16px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.03);
  border: 1px dashed rgba(255,255,255,.12);
  text-align: center;
  margin-top: 10px;
}

/* Buttons */
.btn{
  border: 0;
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 900;
  color: #061016;
  background: linear-gradient(180deg, var(--acc), var(--acc2));
}
.btn:active{ transform: translateY(1px); }

.btn-ghost{
  color: var(--text);
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.08);
}
.btn-ghost:active{ transform: translateY(1px); }

.btn-warn{
  color: #1b1403;
  background: linear-gradient(180deg, rgba(246,211,101,1), rgba(246,211,101,.85));
  border: 1px solid rgba(246,211,101,.28);
}
.btn-danger{
  color: #fff;
  background: rgba(255,77,77,.15);
  border: 1px solid rgba(255,77,77,.32);
}

/* Layout helpers in modal forms */
.field label{
  display:block;
  font-size: 12px;
  color: var(--muted);
  font-weight: 700;
  margin-bottom: 6px;
}
.row2{
  display:grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  align-items: end;
}
.row3{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 10px;
  align-items: end;
}

.pill.toggle{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 8px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  padding: 10px 10px;
  font-weight: 800;
  color: var(--muted);
  user-select:none;
}
.pill.toggle input{ width:auto; margin:0; }

/* Scanner */
.scanner{
  border-radius: 14px;
  overflow:hidden;
  border: 1px solid rgba(34,211,238,.18);
  background: rgba(0,0,0,.25);
}
#scanVideo{
  width: 100%;
  height: auto;
  display:block;
}

/* Bottom nav fixed */
.bottomnav{
  position: fixed;
  left:0; right:0; bottom:0;
  height: calc(var(--navH) + env(safe-area-inset-bottom));
  padding-bottom: env(safe-area-inset-bottom);
  z-index: 60;

  display:grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 8px;
  padding-left: 10px;
  padding-right: 10px;

  background: rgba(10,12,16,.92);
  border-top: 1px solid rgba(255,255,255,.08);
  backdrop-filter: blur(10px);
}
.navbtn{
  border: 0;
  background: rgba(255,255,255,.04);
  color: var(--text);
  border-radius: 14px;
  padding: 10px 8px;
  display:grid;
  place-items:center;
  gap: 2px;
}
.navbtn:active{ transform: translateY(1px); }
.navicon{ font-size: 18px; }
.navtxt{ font-size: 12px; font-weight: 900; }

/* Overlay */
.overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  z-index: 80;
}

/* Modal (sheet) */
.modal{
  position: fixed;
  inset: 0;
  z-index: 90;
  display: grid;
  place-items: end center;
  padding: 12px;
  padding-bottom: calc(var(--navH) + 12px + env(safe-area-inset-bottom));
}
.modal-sheet{
  width: min(520px, 100%);
  max-height: 84vh;
  overflow: hidden;
  border-radius: var(--r);
  background: rgba(14,17,22,.98);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: var(--shadow);
}
.modal-head{
  display:flex;
  justify-content: space-between;
  align-items:center;
  padding: 12px 12px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.modal-title{
  font-weight: 900;
  font-size: 16px;
}
.modal-body{
  padding: 12px 12px 14px;
  overflow: auto;
  max-height: calc(84vh - 52px);
}

/* Drawer */
.drawer{
  position: fixed;
  top:0; bottom:0; left:0;
  width: min(320px, 86vw);
  z-index: 95;
  background: rgba(14,17,22,.98);
  border-right: 1px solid rgba(255,255,255,.10);
  box-shadow: 20px 0 80px rgba(0,0,0,.55);
  padding: 12px;
  overflow: auto;
}
.drawer-head{
  display:flex;
  justify-content: space-between;
  align-items:center;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(255,255,255,.08);
  margin-bottom: 10px;
}
.drawer-brand{
  display:flex;
  align-items:center;
  gap: 10px;
}
.drawer-section{
  margin-top: 10px;
}
.drawer-title{
  font-weight: 900;
  margin: 10px 0 6px;
  opacity: .9;
}
.drawer-item{
  width: 100%;
  text-align: left;
  border: 0;
  background: rgba(255,255,255,.04);
  color: var(--text);
  border-radius: 12px;
  padding: 10px 10px;
  margin: 6px 0;
}
.drawer-item:active{ transform: translateY(1px); }
.drawer-item.danger{
  background: rgba(255, 77, 77, .12);
  border: 1px solid rgba(255, 77, 77, .25);
}
.drawer-note{
  font-size: 12px;
  color: var(--muted);
  padding: 6px 2px;
}
.filelike{
  position: relative;
  cursor: pointer;
}

/* Small screens tweaks */
@media (max-width: 380px){
  .hero-kcal #sumKcal{ font-size: 40px; }
  .macro-row{ gap: 8px; }
  .macro{ padding: 9px 9px; }
  .date{ width: 140px; }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  *{ scroll-behavior:auto !important; transition:none !important; }
}
